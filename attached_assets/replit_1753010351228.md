# PharmaCare Management System

## Overview
A comprehensive full-stack pharmacy management system built with React, TypeScript, Express.js, and PostgreSQL. The application provides complete CRUD functionality for inventory management, point-of-sale operations, customer management, prescription handling, and business analytics.

## User Preferences
Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture
- **Framework**: React 18 with TypeScript for type safety and modern development practices
- **Build Tool**: Vite for fast development and optimized production builds
- **Routing**: Wouter for lightweight client-side routing
- **State Management**: TanStack React Query for server state management and caching
- **Styling**: Tailwind CSS with Radix UI component library (shadcn/ui) for consistent, accessible UI components
- **Animations**: GSAP for smooth page transitions and interactive feedback

### Backend Architecture
- **Runtime**: Node.js with Express.js framework
- **Language**: TypeScript with ES modules
- **API Design**: RESTful API with structured endpoints
- **Session Management**: Express sessions with PostgreSQL store (connect-pg-simple)
- **Development**: tsx for TypeScript execution in development

### Data Storage Solutions
- **Database**: PostgreSQL with Neon serverless database
- **ORM**: Drizzle ORM with TypeScript schema definitions
- **Migration**: Drizzle Kit for database migrations and schema management
- **Connection**: @neondatabase/serverless for optimized serverless connections

### UI Component System
- **Design System**: Radix UI primitives with shadcn/ui styling system
- **Theming**: CSS custom properties with dark/light mode support
- **Component Library**: Comprehensive set including Cards, Tables, Dialogs, Forms, Navigation
- **Icons**: Lucide React for consistent iconography
- **Responsive**: Mobile-first design with Tailwind CSS breakpoints

## Key Components

### Core Business Modules
1. **Dashboard**: Real-time analytics, KPI cards, quick actions, low stock alerts, recent transactions
2. **Inventory Management**: Complete product CRUD with security PIN protection, stock tracking, expiry date management, batch numbers
3. **Point of Sale (Billing)**: Shopping cart system, customer selection, multiple payment methods, receipt generation
4. **Customer Management**: Customer database with contact information, purchase history, registration tracking
5. **Prescription Management**: Digital prescription handling with doctor information, medication tracking, status management
6. **Reports & Analytics**: Sales reports, inventory analysis, customer insights, business metrics
7. **Settings**: Store configuration, security settings, tax rates, system preferences

### Security Features
- **PIN Protection**: Configurable security PIN for sensitive operations (default: 0000)
- **Access Control**: Protected routes and operations requiring authentication
- **Data Validation**: Comprehensive form validation using React Hook Form with Zod resolvers
- **Session Management**: Secure session handling with PostgreSQL session store

### Animation System
- **GSAP Integration**: Hardware-accelerated animations throughout the application
- **Page Transitions**: Smooth enter/exit animations for route changes
- **Interactive Feedback**: Hover effects, button clicks, form validations
- **Loading States**: Skeleton loaders and progressive content loading

## Data Flow

### Frontend to Backend Communication
1. **API Requests**: TanStack React Query handles HTTP requests with automatic caching
2. **Data Fetching**: Optimistic updates and background refetching
3. **Error Handling**: Centralized error management with toast notifications
4. **Loading States**: React Query provides loading, error, and success states

### Database Operations
1. **Schema Definition**: Centralized schema in `shared/schema.ts` using Drizzle ORM
2. **Migrations**: Database changes managed through Drizzle Kit
3. **Queries**: Type-safe database operations with Drizzle ORM
4. **Transactions**: ACID compliance for complex operations

### State Management
- **Server State**: TanStack React Query for API data caching and synchronization
- **Component State**: React hooks for local component state
- **Form State**: React Hook Form for complex form management
- **Global State**: Minimal global state, preference for server state patterns

## External Dependencies

### Production Dependencies
- **Database**: Neon PostgreSQL serverless database
- **Authentication**: Express sessions with PostgreSQL store
- **File Processing**: No file uploads - text-based data only
- **Email/SMS**: Not implemented (future enhancement opportunity)

### Development Tools
- **Build System**: Vite with React plugin and TypeScript support
- **Code Quality**: TypeScript strict mode, ESLint configuration ready
- **Development Server**: Vite dev server with HMR and error overlay
- **Database Tools**: Drizzle Kit for schema management and migrations

### UI/UX Libraries
- **Component Library**: Radix UI primitives with shadcn/ui styling
- **Animation Library**: GSAP for professional animations
- **Form Handling**: React Hook Form with Zod validation
- **Date Handling**: date-fns for date formatting and manipulation

## Deployment Strategy

### Build Process
1. **Frontend Build**: Vite builds React application to `dist/public`
2. **Backend Build**: esbuild bundles Express server to `dist/index.js`
3. **Production Start**: Node.js serves bundled application

### Environment Configuration
- **Database**: PostgreSQL connection via `DATABASE_URL` environment variable
- **Sessions**: Secure session configuration with database store
- **Build Optimization**: Separate development and production configurations

### Development Workflow
- **Development Server**: `npm run dev` starts both frontend and backend with HMR
- **Database Management**: `npm run db:push` applies schema changes to database
- **Type Checking**: `npm run check` validates TypeScript across entire project

### File Structure
```
project/
├── client/           # React frontend application
│   ├── src/         # Source files with components, pages, hooks
│   └── index.html   # HTML entry point
├── server/          # Express.js backend application
├── shared/          # Shared TypeScript definitions and schemas
├── migrations/      # Database migration files
└── dist/           # Production build output
```

The application follows a monorepo structure with clear separation between frontend, backend, and shared code, enabling efficient development and deployment workflows.